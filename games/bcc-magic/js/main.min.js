/*! bcc-magic v0.2.0 | (c) 2022 Sam Hunter | All Rights Reserved | https://github.com/sshunter/bcc-magic.git */
!function(){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var t=function(){function t(){this.dimensions=3,this.colors=[t.RED,t.WHITE,t.BLUE],this.grid=new Array(this.dimensions);for(var o=0;o<this.dimensions;++o)this.grid[o]=new Array(this.dimensions).fill(t.WHITE)}return t.prototype.getGrid=function(){return JSON.parse(JSON.stringify(this.grid))},t.prototype.shuffle=function(){for(var t=0;t<this.grid.length;++t)for(var o=0;o<this.grid[t].length;++o)this.grid[t][o]=this.colors[Math.floor(Math.random()*this.colors.length)]},t.prototype.advance_color=function(t){var o=(Math.max(0,this.colors.indexOf(t))+1)%this.colors.length;return this.colors[o]},t.prototype.tap_one=function(t,o){t<0||t>=this.dimensions||o<0||o>=this.dimensions||(this.grid[t][o]=this.advance_color(this.grid[t][o]))},t.prototype.tap=function(t,o){this.tap_one(t,o),this.tap_one(t-1,o),this.tap_one(t,o-1),this.tap_one(t+1,o),this.tap_one(t,o+1)},t.prototype.isSolved=function(){for(var t=this.grid[0][0],o=0;o<this.grid.length;++o)for(var e=0;e<this.grid[o].length;++e)if(this.grid[o][e]!==t)return!1;return!0},t.RED="red",t.WHITE="white",t.BLUE="blue",t}(),o=document.querySelector("#board"),e=o.querySelectorAll(".gameboard__button"),n=new t;function i(){var t,o=n.getGrid();console.log("inputs",o,e);for(var i=0;i<e.length&&!(i>=Math.pow(n.dimensions,2));++i){var r=Math.floor(i/3),s=i%3,l=null===(t=null==o?void 0:o[r])||void 0===t?void 0:t[s];console.log("row ".concat(r," column ").concat(s," color ").concat(l)),e[i].style.backgroundColor=l}}document.addEventListener("DOMContentLoaded",(function(){console.log("loaded",o),n.shuffle(),i()}));for(var r=function(t){var o=Math.floor(t/3),r=t%3;e[t].addEventListener("click",(function(t){return console.log("click: ".concat(o," ").concat(r)),t.preventDefault(),n.tap(o,r),i(),n.isSolved()&&(alert("You did a thing!"),n.shuffle(),i(),alert("Now do it again!")),!0}))},s=0;s<e.length;++s)r(s)}();
//# sourceMappingURL=main.min.js.map
