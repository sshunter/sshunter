/*! bcc-magic v0.3.0 | (c) 2022 Sam Hunter | All Rights Reserved */
!function(){"use strict";var t=function(){function t(){this.colors=[t.RED,t.WHITE,t.BLUE],this.dimensions=3,this.grid=new Array(this.dimensions);for(var i=0;i<this.dimensions;++i)this.grid[i]=new Array(this.dimensions).fill(t.WHITE)}return t.prototype.getGrid=function(){return this.cloneGrid(this.grid)},t.prototype.setGrid=function(t){this.grid=this.cloneGrid(t),this.dimensions=this.grid[0].length},t.prototype.shuffle=function(){for(var t=0;t<this.grid.length;++t)for(var i=0;i<this.grid[t].length;++i)this.grid[t][i]=this.colors[Math.floor(Math.random()*this.colors.length)]},t.prototype.tap=function(t,i){this.tap_one(t,i),this.tap_one(t-1,i),this.tap_one(t,i-1),this.tap_one(t+1,i),this.tap_one(t,i+1)},t.prototype.isSolved=function(){for(var t=this.grid[0][0],i=0;i<this.grid.length;++i)for(var r=0;r<this.grid[i].length;++r)if(this.grid[i][r]!==t)return!1;return!0},t.prototype.cloneGrid=function(t){return JSON.parse(JSON.stringify(t))},t.prototype.advance_color=function(t){var i=(Math.max(0,this.colors.indexOf(t))+1)%this.colors.length;return this.colors[i]},t.prototype.tap_one=function(t,i){t<0||t>=this.dimensions||i<0||i>=this.dimensions||(this.grid[t][i]=this.advance_color(this.grid[t][i]))},t.RED="red",t.WHITE="white",t.BLUE="blue",t}(),i=window.localStorage,r=document.querySelector("#board").querySelectorAll(".gameboard__button"),e=new t;function o(t){for(var i,o,n=0;n<r.length&&!(n>=Math.pow(e.dimensions,2));++n){var s=Math.floor(n/3),d=n%3;r[n].style.backgroundColor=null!==(o=null===(i=null==t?void 0:t[s])||void 0===i?void 0:i[d])&&void 0!==o?o:"white"}}"serviceWorker"in navigator&&navigator.serviceWorker.register("js/sw.js").then((function(){console.log("Service Worker Registered")})),document.addEventListener("DOMContentLoaded",(function(){var t,r=JSON.parse(null!==(t=i.getItem("grid"))&&void 0!==t?t:null);r?e.setGrid(r):(e.shuffle(),r=e.getGrid(),i.setItem("grid",JSON.stringify(r))),o(r)}));for(var n=function(t){var n=Math.floor(t/3),s=t%3;r[t].addEventListener("click",(function(t){t.preventDefault(),e.tap(n,s);var r=e.getGrid();return i.setItem("grid",JSON.stringify(r)),o(r),e.isSolved()&&setTimeout((function(){alert("You did a thing!"),setTimeout((function(){e.shuffle();var t=e.getGrid();i.setItem("grid",JSON.stringify(t)),o(t),setTimeout((function(){alert("Now do it again!")}),10)}),10)}),10),!0}))},s=0;s<r.length;++s)n(s)}();
//# sourceMappingURL=main.js.map
